#!/usr/bin/env python3

import argparse
import gzip
import csv
import sys

parser = argparse.ArgumentParser()
parser.add_argument('file', help='csv file, gzip okay, stdin ok')
parser.add_argument('columns', nargs='+')
arg = parser.parse_args()

if   arg.file == '-':          fp = sys.stdin
elif arg.file.endswith('.gz'): fp = gzip.open(arg.file, 'rt')
else:                          fp = open(arg.file)

reader = csv.reader(fp)
for row in reader:
	out = []
	for c in arg.columns: out.append(str(row[int(c)-1]))
	print(','.join(out))
